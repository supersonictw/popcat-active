(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{344:function(t,e,n){"use strict";n.r(e);var o=n(19),r=(n(87),n(60),n(332)),c=n.n(r),l=parseInt("5000"),d={name:"Index",data:function(){return{init:!1,recovery:!1,count:0,bot:!1,listener:null,accumulator:0,nextToken:"",captchaToken:"",leaderboard:{global:null,regions:{}}}},mounted:function(){this.pushPops(),this.listener=this.$sse.create(),this.listener.on("message",this.updateLeaderboard),localStorage.getItem("count")&&(this.count=parseInt(localStorage.getItem("count"))),localStorage.getItem("bot")&&(this.bot=Boolean(localStorage.getItem("bot"))),this.listener.connect()},methods:{meow:function(){this.count++,this.accumulator++,localStorage.setItem("count",this.count)},updateLeaderboard:function(t){this.leaderboard.global=t.global,this.leaderboard.regions=t.regions},pushPops:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o,r,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.bot||!t.accumulator&&t.init&&!t.recovery){e.next=17;break}return n=t.accumulator,t.accumulator=0,o=c.a.stringify({count:n,token:t.nextToken,captcha_token:t.captchaToken}),e.prev=4,e.next=7,t.$axios.post("/pop?".concat(o));case 7:r=e.sent,"new_token"in(d=r.data)?(t.init||(t.init=!0),t.recovery&&(200===r.status&&(t.accumulator+=n),201===r.status&&(t.recovery=!1)),t.nextToken=d.new_token):t.accumulator+=n,e.next=17;break;case 12:e.prev=12,e.t0=e.catch(4),t.recovery=!0,t.nextToken="",t.accumulator+=n;case 17:setTimeout(t.pushPops,l);case 18:case"end":return e.stop()}}),e,null,[[4,12]])})))()}}},m=n(80),v=n(119),h=n.n(v),k=n(328),_=n(151),f=n(88),w=n(342),x=n(343),component=Object(m.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-card",{staticClass:"text-center my-10 py-5"},[n("v-card-text",[t._v(t._s(t.count))]),t._v(" "),n("v-btn",{on:{click:t.meow}},[t._v("Meow")])],1),t._v(" "),n("v-card",[n("v-card-title",[t._v(" Worldwide: "+t._s(t.leaderboard.global)+" ")]),t._v(" "),n("v-list",t._l(t.leaderboard.regions,(function(e,o){return n("v-list-item",{key:o},[t._v("\n        "+t._s(o)+": "+t._s(e)+"\n      ")])})),1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;h()(component,{VBtn:k.a,VCard:_.a,VCardText:f.b,VCardTitle:f.c,VList:w.a,VListItem:x.a})}}]);