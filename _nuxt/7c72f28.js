(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{350:function(e,t,r){"use strict";r.r(t);var o=r(19),n=(r(87),r(333),r(31),r(61),r(60),r(334)),c=r.n(n),l=r(339),d=r(340),h=r.n(d),m=parseInt("5000"),v={name:"Index",data:function(){return{ready:!1,recovery:!1,count:0,bot:!1,listener:null,accumulator:0,delay_accumulator:0,nextToken:"",captchaToken:"",leaderboard:{global:null,regions:{}},profile:{sub:""}}},mounted:function(){this.pushPops(),this.listener=this.$sse.create(),this.listener.on("message",this.updateLeaderboard),localStorage.getItem("count")&&(this.count=parseInt(localStorage.getItem("count"))),localStorage.getItem("bot")&&(this.bot=Boolean(localStorage.getItem("bot"))),this.listener.connect()},methods:{meow:function(){this.count++,this.accumulator++,this.delay_accumulator++,this.leaderboard.global++,this.profile.sub in this.leaderboard.regions?this.leaderboard.regions[this.profile.sub]++:this.leaderboard.regions[this.profile.sub]=1,localStorage.setItem("count",this.count)},updateLeaderboard:function(e){(e=h.a.parse(e)).global-=this.delay_accumulator,e.regions[this.profile.sub]-=this.delay_accumulator,this.delay_accumulator=0,this.leaderboard.global=e.global,this.leaderboard.regions=e.regions},pushPops:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r,o,n,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.bot||!e.accumulator&&e.ready&&!e.recovery){t.next=17;break}return r=e.accumulator,e.accumulator=0,o=c.a.stringify({count:r,token:e.nextToken,captcha_token:e.captchaToken}),t.prev=4,t.next=7,e.$axios.post("/pop?".concat(o));case 7:n=t.sent,"new_token"in(d=n.data)?(e.ready&&(e.ready=!0,e.profile=h.a.parse(Object(l.a)(d.new_token.split(".")[1]))),e.recovery&&(200===n.status&&(e.accumulator+=r),201===n.status&&(e.recovery=!1)),e.nextToken=d.new_token):e.accumulator+=r,t.next=17;break;case 12:t.prev=12,t.t0=t.catch(4),e.recovery=!0,e.nextToken="",e.accumulator+=r;case 17:setTimeout(e.pushPops,m);case 18:case"end":return t.stop()}}),t,null,[[4,12]])})))()}}},_=r(80),f=r(119),k=r.n(f),y=r(328),w=r(151),x=r(88),I=r(348),T=r(349),component=Object(_.a)(v,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-card",{staticClass:"text-center my-10 py-5"},[r("v-card-text",[e._v(e._s(e.count))]),e._v(" "),r("v-btn",{on:{click:e.meow}},[e._v("Meow")])],1),e._v(" "),r("v-card",[r("v-card-title",[e._v(" Worldwide: "+e._s(e.leaderboard.global)+" ")]),e._v(" "),r("v-list",e._l(e.leaderboard.regions,(function(t,o){return r("v-list-item",{key:o},[e._v("\n        "+e._s(o)+": "+e._s(t)+"\n      ")])})),1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;k()(component,{VBtn:y.a,VCard:w.a,VCardText:x.b,VCardTitle:x.c,VList:I.a,VListItem:T.a})}}]);