(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{350:function(e,t,r){"use strict";r.r(t);var o=r(19),n=(r(87),r(333),r(31),r(61),r(60),r(334)),c=r.n(n),l=r(339),d=r(340),h=r.n(d),m=parseInt("800"),v=parseInt("5000"),f={name:"Index",data:function(){return{ready:!1,recovery:!1,count:0,bot:!1,listener:null,accumulator:0,nextToken:"",captchaToken:"",leaderboard:{global:null,regions:{}},profile:{sub:""}}},mounted:function(){this.pushPops(),this.listener=this.$sse.create(),this.listener.on("message",this.updateLeaderboard),localStorage.getItem("count")&&(this.count=parseInt(localStorage.getItem("count"))),localStorage.getItem("bot")&&(this.bot=Boolean(localStorage.getItem("bot"))),this.listener.connect()},methods:{meow:function(){this.count++,this.accumulator++,this.leaderboard.global++,this.profile.sub in this.leaderboard.regions?this.leaderboard.regions[this.profile.sub]++:this.leaderboard.regions[this.profile.sub]=1,localStorage.setItem("count",this.count)},updateLeaderboard:function(e){e=h.a.parse(e),this.accumulator&&(e.regions[this.profile.sub]+=this.accumulator),this.leaderboard.global=e.global,this.leaderboard.regions=e.regions},pushPops:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r,o,n,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.bot||!e.accumulator&&e.ready&&!e.recovery){t.next=16;break}return e.accumulator>m?(r=m,e.accumulator-=m):(r=e.accumulator,e.accumulator=0),o=c.a.stringify({count:r,token:e.nextToken,captcha_token:e.captchaToken}),t.prev=3,t.next=6,e.$axios.post("/pop?".concat(o));case 6:n=t.sent,"new_token"in(d=n.data)?(e.ready||(e.ready=!0,e.profile=h.a.parse(Object(l.a)(d.new_token.split(".")[1]))),e.recovery&&(200===n.status&&(e.accumulator+=r),201===n.status&&(e.recovery=!1)),e.nextToken=d.new_token):e.accumulator+=r,t.next=16;break;case 11:t.prev=11,t.t0=t.catch(3),e.recovery=!0,e.nextToken="",e.accumulator+=r;case 16:setTimeout(e.pushPops,v);case 17:case"end":return t.stop()}}),t,null,[[3,11]])})))()}}},k=r(80),_=r(119),w=r.n(_),x=r(328),y=r(151),I=r(88),T=r(348),V=r(349),component=Object(k.a)(f,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-card",{staticClass:"text-center my-10 py-5"},[r("v-card-text",[e._v(e._s(e.count))]),e._v(" "),r("v-btn",{on:{click:e.meow}},[e._v("Meow")])],1),e._v(" "),r("v-card",[r("v-card-title",[e._v(" Worldwide: "+e._s(e.leaderboard.global)+" ")]),e._v(" "),r("v-list",e._l(e.leaderboard.regions,(function(t,o){return r("v-list-item",{key:o},[e._v("\n        "+e._s(o)+": "+e._s(t)+"\n      ")])})),1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;w()(component,{VBtn:x.a,VCard:y.a,VCardText:I.b,VCardTitle:I.c,VList:T.a,VListItem:V.a})}}]);